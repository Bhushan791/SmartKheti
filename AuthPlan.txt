ğŸ“˜ SmartKheti â€“ users App (Auth & Profile Module) Documentation
ğŸ” Overview
The users app handles authentication and profile management for the main user type: Farmers in the SmartKheti ecosystem. Designed with Nepalese rural users in mind, the system prioritizes simplicity, trust, and mobile-first usability.

ğŸ§± User Types
Role	Auth Required	Description
Farmer	âœ… Yes	Main user; uploads, posts, uses all features
Buyer	âŒ No	Can only browse marketplace; no login needed
Admin	âœ… Optional	System management (future feature)

ğŸ” Auth Method
Phone Number (ğŸ“±) as the unique username

6-digit PIN (ğŸ”‘) instead of complex passwords (farmer-friendly)

JWT Authentication using djangorestframework-simplejwt

ğŸ§¾ Registration Fields
Field	Type	Required	Notes
First Name	CharField	âœ…	-
Last Name	CharField	âœ…	-
Phone Number	CharField	âœ…	Unique identifier
Password1 / 2	CharField	âœ…	6-digit PIN
Citizenship No.	CharField	Optional	For identity/trust
Country	CharField	âœ…	Default: Nepal
Province	CharField	âœ…	Dropdown suggested
District	CharField	âœ…	Dropdown suggested
Municipality/Ward	CharFields	âœ…	For weather & analytics
Preferred Language	ChoiceField	Optional	Nepali / English
Profile Photo	ImageField	Optional	-

ğŸ§‘â€ğŸ’» Endpoints Summary
Method	Endpoint	Description	Auth Required
POST	/api/users/register/	Register as farmer	âŒ
POST	/api/users/login/	Login (get JWT token)	âŒ
GET	/api/users/profile/	View own profile	âœ…
PUT	/api/users/profile/	Update own profile	âœ…

âš™ï¸ Tech Stack
Custom User Model (extends AbstractUser)

Custom UserManager (handles phone-based registration)

SimpleJWT for token-based authentication

DRF Serializers for validation

DRF Views: Class-based (APIView) for modular logic

âœ… Development Plan
Create users app and register in project

Create custom user model with all required fields

Set AUTH_USER_MODEL in settings

Setup UserManager to handle custom user creation

Create serializers:

RegisterSerializer (validates PIN match)

LoginSerializer (returns JWT)

ProfileSerializer (get/update info)

Build API Views:

Registration

Login

Profile View/Update

Integrate SimpleJWT and configure settings

Create and include URL routes

Migrate, test via Postman

ğŸ§ª Testing Strategy
Use Postman to test all endpoints:

Register

Send POST to /api/users/register/ with valid data

Validate phone uniqueness, PIN match

Login

POST /api/users/login/ with phone + PIN

Receive JWT access and refresh tokens

Profile

Use Authorization: Bearer <token>

GET /api/users/profile/ to view info

PUT to update info (name, location, photo, etc.)